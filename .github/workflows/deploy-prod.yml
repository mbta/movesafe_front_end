name: Deploy to Production

on:
  push:
    branches:
      - feat/migration_ci_cd # FOR TESTING PURPOSES ONLY

  release:
    types:
      - released

concurrency:
  group: front-prod
  cancel-in-progress: true

jobs:
  deploy:
    name: Deploy to Production
    uses: ./.github/workflows/deploy.yml
    with:
      env: prod
      version-name: ${{ github.ref_name }}
      web-bucket: web-prd-rdi-mbta-0
      mobile-bucket: mobile-prd-rdi-mbta-0
      web-cloudfront-distribution-id: E1VV7IUT7BCAJV
      mobile-cloudfront-distribution-id: E3H0WIRXO8JZAJ
    secrets: inherit
